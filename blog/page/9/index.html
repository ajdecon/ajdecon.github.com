
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Thinking Out Loud</title>
  <meta name="author" content="Adam DeConinck">

   
  <meta name="description" content="">
  
  <meta name="keywords" content="">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ajdecon.github.com/blog/page/9">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Quicksand:300,400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Thinking Out Loud" type="application/atom+xml">
  <script src="/js/jquery.js"></script>
  <script src="/js/bootstrap-collapse.js"></script>
  <script src="/js/modernizr-2.0.js"></script>
  <script src="/js/octopress.js" type="text/javascript"></script>
  <script src="/js/application.js"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-12576607-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div class="navbar navbar-inverse navbar-static-top">
  	<div class="navbar-inner">
  	  <div class="container">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-responsive-collapse">
          <span class="fui-menu-24"></span>
        </a>
  	  	<div class="nav-collapse collapse navbar-responsive-collapse" style="height:0;">
  	      <ul class="nav">
    
        <li ><a href="/">Home</a></li>
    
        <li ><a href="/about">About Adam</a></li>
    
        <li ><a href="https://www.ajdecon.org/ajdecon-key.txt">GPG key</a></li>
    
        <li ><a href="/pubs">Publications</a></li>
    
        <li ><a href="/atom.xml">RSS</a></li>
    
</ul>

<ul class="nav pull-right">
    
    <li><a href="http://github.com/ajdecon" title="Github Profile"><i class="icon-github-sign social-navbar"></i></a></li>
    
    
    
    <li><a href="http://linkedin.com/in/ajdecon" title="Linkedin Profile"><i class="icon-linkedin-local social-navbar"></i></a></li>
    
    
    <li><a href="http://twitter.com/ajdecon" title="Twitter Profile"><i class="icon-twitter-local social-navbar"></i></a></li>
    
    
    <li><a href="http://plus.google.com/116247823819167414235" title="Google+ Profile"><i class="icon-google-plus-local social-navbar"></i></a></li>
    
    
    

    
    <li><a href="mailto:ajdecon@ajdecon.org" title="Email"><i class="icon-envelope social-navbar"></i></a></li>
    
</ul>

  	    </div>
  	  </div>
  	</div>
  </div>
  <div class="container" id="main">
      <div class="row-fluid">
        <div id="content">
          <div class="jumbotron">
  <div class="container">
    
      Thinking Out Loud
    
    <h3 class="tagline">
      
        Occasional thoughts on supercomputers, sysadmin, and other random geekery
      
    </h3>
  </div>
</div>


<div class="blog-index">
  
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2012-01-08T00:00:00-07:00" pubdate data-updated="true">Jan 8<span>th</span>, 2012</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/blog/categories/cooking/"><span class="badge">cooking</span></a>
          
          <a href="/blog/categories/exercise/"><span class="badge">exercise</span></a>
          
          <a href="/blog/categories/life/"><span class="badge">life</span></a>
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/making-progress-on-the-new-years-resolutions/">Making progress on the New Years Resolutions&#8230;</a></h1>
      <p>Three of this year&#8217;s Resolutions (or at least, strong intentions) have been to exercise more, cook more, and write in this blog more often. Today I made progress in all of these&#8230;</p> <br /><ul> <li><b>Exercise</b>: I haven&#8217;t been as active lately as I&#8217;d like, so more exercise seems like a good idea. So I invoked my motivational tool of last resort: I spent a lot of money on it. Specifically, I got a gym membership, which will both the useful enough to help me exercise and expensive enough for me to not want to waste the money.</li> <li><b>Cooking</b>: Partly for the sake of eating better, partly to spend less money eating out, and also to try some tasty new things. So I spent most of the afternoon cooking today, and made&#8230;<ul> <li><a href="http://allrecipes.com/recipe/crispy-barbequed-tofu-slices/detail.aspx">Barbequed Tofu Slices</a>: The recipe turned out to be more involved than I expected from a cursory reading, but I managed to make it to the end and produce something edible. Fairly tasty actually, and Leigh quite liked it as well. It&#8217;s also the first tofu dish I can confidently say I enjoyed, so this probably goes into the &#8220;will make again&#8221; list.</li> <li><a href="http://www.cookingforengineers.com/recipe/34/Garlic-Roasted-Potatoes">Garlic Roasted Potatoes</a>: Pretty simple, but quite tasty, and went well with the tofu.</li> <li><a href="http://www.cookingforengineers.com/recipe/154/Biscotti">Biscotti</a>: These came out surprisingly well. The Cooking for Engineers recipe includes orange zest, and while I used less than called for in the recipe, you can really taste the orange, as well as the almonds and vanilla. I actually like this enough that, if Leigh and I enjoy these over the next week, I might try to bake more biscotti on a weekly basis with different flavors.</li> </ul> </li><li><b>Blogging</b>: As you see here! Also, I&#8217;m working on a short entry explaining a <a href="http://www.opscode.com/chef/">Chef</a> recipe I put together this week for building a basic SLURM+OpenMPI compute cluster on Ubuntu servers.<br />One of the things I&#8217;d really like to do this year is get better at technical writing, and writing in general, so the blog will actually serve a useful purpose in helping me practice my writing. Even (or especially!) if no one reads it.</li> </ul>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2011-07-19T00:00:00-06:00" pubdate data-updated="true">Jul 19<span>th</span>, 2011</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/blog/categories/hpc/"><span class="badge">HPC</span></a>
          
          <a href="/blog/categories/maui/"><span class="badge">Maui</span></a>
          
          <a href="/blog/categories/torque/"><span class="badge">Torque</span></a>
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/non-exclusive-scheduling-in-torquemaui/">Non-exclusive scheduling in Torque/Maui</a></h1>
      <p> <a href="http://www.clusterresources.com/products/torque-resource-manager.php">Torque (PBS)</a>, the cluster resource manager, defaults to allocating any single compute server to only one job at a time. This makes sense most of the time, especially for parallel jobs which use MPI or another message-passing routine to handle communication between processes on different servers. If a server were shared by multiple jobs, contention for access to the network card could slow down all jobs by quite a lot. However, when the jobs are single-threaded or <a href="http://en.wikipedia.org/wiki/Embarrassingly_parallel">embarrassingly parallel</a>, this can result in a lot of wasted resources: for example, a single-threaded job tying up an eight-core server.</p> <p /> <p> Torque, and the associated scheduler <a href="http://www.clusterresources.com/products/maui-cluster-scheduler.php">Maui</a>, can be configured to allow non-exclusive allocation so that single-threaded jobs can share a compute node. But while it&#8217;s pretty simple to accomplish (two config settings), it&#8217;s very hard to find any documentation on how to do it! As I discovered last week. So I&#8217;ll share my research. </p> <p /> <p>First: make sure that the <code>nodes</code> file in <code>TORQUE_HOME/server_priv/</code> specifies the number of virtual processors on each node. For example,</p> <p /> <blockquote class="posterous_short_quote"><code> <br />node1 np=8 <br />node2 np=8 <br />node3 np=4 <br /></code></blockquote> <p /> <p><code>np</code> can be the physical number of cores, but doesn&#8217;t have to be. Second, make sure that your <code>MAUI_HOME/maui.cfg</code> includes the following line:</p> <p /> <blockquote class="posterous_short_quote"><code>NODEACCESSPOLICY SHARED</code></blockquote> <p /> <p>That&#8217;s it! One thing to note, however, is that Torque&#8217;s allocation policy always starts at the first available slot. So if you submit a nonexclusive job with 2 independent threads, and there are 4 servers available, both threads will still run on the same server. This differs from <a href="http://gridengine.org/blog/">Grid Engine</a>, which defaults to non-exclusive scheduling (and it&#8217;s a pain to make it exclusive!), but defaults to a round-robin policy.</p> <p /> <p>Trivial, I know, but you would not believe how hard it was to figure it out. This is why documentation is important!</p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2011-06-10T00:00:00-06:00" pubdate data-updated="true">Jun 10<span>th</span>, 2011</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/blog/categories/benchmarks/"><span class="badge">benchmarks</span></a>
          
          <a href="/blog/categories/compilers/"><span class="badge">compilers</span></a>
          
          <a href="/blog/categories/dumb/"><span class="badge">dumb</span></a>
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/extremely-contrived-gcc-vs-v8-benchmark/">Extremely contrived GCC vs V8 benchmark</a></h1>
      <p>On Hacker News today, someone posted a link to an <a href="http://wingolog.org/archives/2011/06/10/v8-is-faster-than-gcc">extremely contrived benchmark</a> in which it was claimed that the V8 Javascript compiler was faster than GCC. This was true, in the very narrow case where GCC was prevented from optimizing properly while V8 was run in ideal conditions, <em>and</em> in which the benchmark was compile time plus run time rather than run time alone.</p> <p /> <p>I wouldn&#8217;t post this, except that I&#8217;ve been reading a lot about benchmarking recently and this is an excellent example of how to do it completely wrong. Brennan at comment 12 on the original post sums it up:</p> <p /> <blockquote class="posterous_medium_quote"> <br />What you&#8217;ve just written is one of the most contrived benchmarks I <br />have ever read. At no point in your rambling, incoherent argument were <br />you even close to anything that could be considered an objective <br />comparison. Everyone in this room is now dumber for having read it. I <br />award you no points, and may God have mercy on your soul.</blockquote>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2011-06-02T00:00:00-06:00" pubdate data-updated="true">Jun 2<span>nd</span>, 2011</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/speaking-to-actuaries-an-introductory-talk-on/">Speaking to Actuaries: an Introductory Talk on High-Performance Computing</a></h1>
      <p>In May 2011 I gave an talk at the Society of Actuaries Life &amp; Annuity Symposium, as a part of the High Performance Computing panel. At R Systems I&#8217;ve worked with a variety of types of customers, including some actuaries: insurance companies have to model many different possible scenarios for their policies, and this can be extremely computationally intensive. &nbsp;(I actually quite like these customers: a lot of the actuaries I&#8217;ve worked with have very technically-oriented mindsets, perhaps unsurprisingly, and a good appreciation of both the technology and mathematics involved in their work.) &nbsp;So when the conference organizers invited us to contribute a talk, off I went to New Orleans!</p>
<p>My part of the panel was an introductory talk on HPC combined with a basic case study.  It was pitched to the actuarial audience, but I think it&#8217;s a nice introduction to a lot of HPC concepts in general.  It&#8217;s available publicly at the <a href="http://www.soa.org/files/pdf/2011-new-orleans-las-43.pdf">SOA web site</a>, but I wanted nicer formatting so I uploaded to SlideShare.  Enjoy!</p>
<div style="">
<object height="355" width="425">
<param name="movie" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=deconincksoaslidesv3-110602184529-phpapp01&amp;stripped_title=high-performance-computing-an-introduction-for-the-society-of-actuaries&amp;userName=ajdecon" />
<param name="allowFullScreen" value="true" />
<param name="allowScriptAccess" value="always" /><embed src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=deconincksoaslidesv3-110602184529-phpapp01&amp;stripped_title=high-performance-computing-an-introduction-for-the-society-of-actuaries&amp;userName=ajdecon" type="application/x-shockwave-flash" height="355" width="425"></embed>
</object>
</div>


      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2011-06-01T00:00:00-06:00" pubdate data-updated="true">Jun 1<span>st</span>, 2011</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/blog/categories/awesome/"><span class="badge">awesome</span></a>
          
          <a href="/blog/categories/books/"><span class="badge">books</span></a>
          
          <a href="/blog/categories/science-fiction/"><span class="badge">science fiction</span></a>
          
          <a href="/blog/categories/zombies/"><span class="badge">zombies</span></a>
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/zombies-as-real-science-fiction-a-review-of-f/">Zombies as Real Science Fiction: a review of Feed and Deadline by Mira Grant</a></h1>
      <p>Last year I read a novel by Mira Grant (aka Seanan McGuire) called <em>Feed</em>. I picked it up because of the cover: the symbol for an RSS feed, drawn in blood, and a blurb of some sort indicating that it was about zombies. I was on a bit of a zombie kick at the time (because let&#8217;s face it, zombies are <em>cool</em>), and I figured what the hell. Ten bucks, right?</p>
<p><p /> </p>
<p>It was <em>awesome</em>.</p>
<p><p /> </p>
<p><strong><a href="http://www.amazon.com/Feed-Newsflesh-Book-Mira-Grant/dp/0316081051"><em>Feed</em></a></strong> takes place in a world in which the zombies rose, but life went on. In this world, zombies come back to life because of a pair of artificial viruses&#8211;a cancer cure, and a cure for the common cold&#8211;which were released too early, and interacted very badly. Every person in the world, or mammal over forty pounds, has these viruses. And when they die, whether by accident or natural causes or whatever, they wake up again and start trying to infect anyone nearby. Which means it&#8217;s not only the zombies you need to watch out for: it&#8217;s that old dude in line at the supermarket who looks like he might have a heart attack. &#8216;Cause if he does, next thing he&#8217;s going to do is try to eat you.</p>
<p><p /> </p>
<p>The fun of <em>Feed</em> is that rather than try to be a horror movie, it does political intrigue. It starts a good 20 years after the initial outbreak, in a world that has learned to live with the ever-present zombie threat. The main characters are a pair of bloggers, a brother and sister named Shaun and Georgia, who are covering the a US presidential campaign. Grant does a masterful job of leading the voters, and the readers, through the changes in this new America. Some issues which were long contested, like the death penalty, seem almost silly: if you put someone to death and he gets up to start eating people, the point is somewhat lost. Some are still just as real: abortion, civil rights, and the proper scope of government don&#8217;t get settled by the Living Dead. And many new issues crop up, mostly related to the best way to structure a society in which every dead person becomes a zombie. But while the zombies are a big part of the story, they aren&#8217;t the story themselves, which was very refreshing.</p>
<p><p /> </p>
<p>The characters are also fun and well-written. Shaun and Georgia snark as only siblings do, while still making it clear that each of them cares about the other more than anything in the world. The candidates for President are all believable, though the author and our heroes are obviously believable. And every other character is written such that you can believe they are a person&#8230; and you can see the unique personal scars that living in a zombie world has given them.</p>
<p><p /> </p>
<p><em>Feed</em> works as a pretty good political thriller, and I thought that was that. But then the sequel came out, <strong><a href="http://www.amazon.com/gp/product/031608106X/"><em>Deadline</em></a></strong>, and it just blew me away.</p>
<p><p /> </p>
<p>While the first novel wrapped up the political plot, there are enough loose ends to pull on for you to see there&#8217;s more going on. If <em>Feed</em> was &#8220;political science fiction&#8221;, <em>Deadline</em> is <em>epidemiology fiction</em>. Zombieism spreads like a virus, because that&#8217;s what it is&#8211;and viruses mutate, and change, and act in funny ways when conditions change. Our heroes start right in the thick of things, as we discover that the corruption glimpsed before has spread all the way into the CDC&#8211;an organization which is treated as above reproach in the first novel. And then things get crazy. I can&#8217;t say much more for fear of spoilers, but the end of the novel made my brain hurt in a good way. And I&#8217;m so frustrated that I&#8217;ll probably have to wait for a year to read <em>Blackout</em>, the third novel of the &#8220;Newsflesh&#8221; trilogy.</p>
<p><p /> </p>
<p>These novels have fun and believable characters; fast, interesting plots; and a refreshing take on an old horror standby. I <em>love</em> that zombies are brought firmly into the realm of science fiction here. Too often they&#8217;re just a convenient way to make you jump, or simply not thought out thoroughly. But you can tell that Grant has done her research, and has thought through almost every detail of how this world should work, while still not letting it get in the way of a good story. And besides, epidemiology doesn&#8217;t get enough literary love.</p>
<p><p /> </p>
<p><em>Feed</em> is nominated for the Hugos this year, and while I haven&#8217;t finished reading the other Best Novel nominees, I have to see they&#8217;ve got their work cut out for them. Read these books: they&#8217;re awesome.</p>
<p><p /> </p>
<p><a href="http://miragrant.com/">Mira Grant&#8217;s</a> real name is <a href="http://seananmcguire.com/">Seanan McGuire</a>, but she writes under both names in different genres. (And Mira Grant is a better horror name, don&#8217;t you think?) <a href="https://twitter.com/#!/SEANANMCGUIRE">Her twitter</a>&nbsp;is also always amusing, and has bits with cats in it.</p>

      
      
    </div>
  </div>



    </article>
    
  
  <div class="pagination">
    
    <a class="prev" href="/blog/page/10/">&larr; Older</a>
    

    
    <a class="next" href="/blog/page/8/">Newer &rarr;</a>
    
  </div>
</div>


        </div>
      </div>
      <div class="row-fluid">
        <footer class="footer-page" role="contentinfo">
          <p>
  Copyright &copy; 2015 - Adam DeConinck -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> - Theme by <a href="http://alexgaribay.com">Alex Garibay</a>
</p>


        </footer>
      </div>
  </div>
  

<script type="text/javascript">
      var disqus_shortname = 'ajdecon';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
